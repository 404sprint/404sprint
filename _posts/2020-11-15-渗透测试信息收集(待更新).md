---
layout:     post
title:      信息收集
subtitle:   渗透测试基本知识
date:       2020-11-15
author:     Sprint#51264
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - 渗透测试
---
<!-- TOC -->

- [引言](#%E5%BC%95%E8%A8%80)
- [被动信息收集](#%E8%A2%AB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86)
- [主动信息收集](#%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86)

<!-- /TOC -->
# 引言

    培训摘录

    了解甲方有什么资产，什么业务
# 被动信息收集

        服务器，网站容器，敏感文件，数据库，脚本类型

* 域名信息收集

        whois查询，google搜索，Shodan搜索，(流量来自这些网站，不暴漏自己)

        CDN服务器，分布式的静态缓存子服务器，大大加快访问速度，做交互还是要访问根服务器

        子域名收集(公司域名的其他形式，开放了其他服务)
        
        证书查询(MySSL)
    

* 敏感信息收集

        互联网上查询与该公司有关的任何信息，员工姓名，github，码云等代码托管平台查询有关的敏感信息。

* 网站指纹识别

        HTTP头中有服务器信息浏览器信息，可以搜索相关的漏洞

        云悉指纹，BugScaner，WhatWeb

* 
    


# 主动信息收集

        直接访问，扫描网站，这种流量直接流经网站

* 黑语法(搜索引擎自带语法)

        site：结果指定域名

        intext: 正文中存在关键字

        intitle：标题中存在关键字

        info：一些基本信息

        inurl：URL存在关键字的网页

        filetype：搜索指定文件类型




* 主机扫描

    - 操作系统

            ping：

            TTL(路由跳数)大于100一般为windows(一般是128)，几十的一般为linux(一般为64)

    - 数据库类型

            sqlmap

            SQL Server：中型数据库，(DBMS)端口1433，后缀.mdf

            Oracle：大型数据库，默认端口1521

            MySQL：小型数据库，大部分是php的页面，端口为3306

    - 端口扫描

            135、137、138、139、445常常爆发漏洞

            22-ssh弱口令

            873-rsync未授权访问漏洞

            3306-mysql弱口令

            6379-redis未授权访问漏洞

            3389-远程服务连接漏洞

            nmap，sparta

    nmap两种扫描方法：

        1.tcp扫描，完成tcp三次握手扫描，但是会在服务器上留下数据

        2.SYN半开放扫描

        只需要发送一次SYN包，受到带ACK的确认包即确认端口开放

    C段歧义





* 网站敏感目录及文件

* 旁站和C段扫描

* 漏扫准备